# prefect.yaml
name: brfss-elt
prefect-version: 2.19.0

# build section defines how to prepare your code for deployment
build: null

# push section defines how to push your code to a remote location
push: null

# pull section defines how to retrieve your code at runtime
pull:
  - prefect.deployments.steps.set_working_directory:
      #fill with the directory where your project root is located or use `.` for the current directory
      directory: .

# alternatively, you can use git to pull your code from a repository
# Uncomment the following lines to enable git pull
# pull:
#   - prefect.deployments.steps.git_clone:
#       repository: https://github.com/Izzathadi/brfss-data-engineering.git
#       branch: "main"
#   - prefect.deployments.steps.set_working_directory:
#       directory: .

# deployments section defines your flow deployments
deployments:
  - name: brfss-yearly
    version: null
    tags:
      - brfss
      - diabetes
      - elt
    description: "BRFSS Diabetes ELT Pipeline - runs annually"
    schedule:
      cron: "0 0 1 1 *"
      timezone: "Asia/Jakarta"
    flow_name: "ELT Flow - BRFSS Diabetes"
    entrypoint: "src/flow/pipeline.py:elt_pipeline"
    parameters: {}
    work_pool:
      name: "my-work-pool"
